-- Mar 20, 2013 9:52:51 AM WIT
--  
INSERT INTO AD_Reference (AD_Reference_ID,Name,EntityType,AD_Reference_UU,IsOrderByValue,ValidationType,AD_Client_ID,AD_Org_ID,CreatedBy,Updated,IsActive,Created,UpdatedBy) VALUES (550000,'Z_TaxInvoice','U','b612919e-9e73-48ec-b558-8952b68d5326','N','T',0,0,100,TO_TIMESTAMP('2013-03-20 09:52:51','YYYY-MM-DD HH24:MI:SS'),'Y',TO_TIMESTAMP('2013-03-20 09:52:51','YYYY-MM-DD HH24:MI:SS'),100)
;

-- Mar 20, 2013 9:52:51 AM WIT
--  
INSERT INTO AD_Reference_Trl (AD_Language,AD_Reference_ID, Help,Name,Description, IsTranslated,AD_Client_ID,AD_Org_ID,Created,Createdby,Updated,UpdatedBy,AD_Reference_Trl_UU ) SELECT l.AD_Language,t.AD_Reference_ID, t.Help,t.Name,t.Description, 'N',t.AD_Client_ID,t.AD_Org_ID,t.Created,t.Createdby,t.Updated,t.UpdatedBy,Generate_UUID() FROM AD_Language l, AD_Reference t WHERE l.IsActive='Y' AND l.IsSystemLanguage='Y' AND l.IsBaseLanguage='N' AND t.AD_Reference_ID=550000 AND NOT EXISTS (SELECT * FROM AD_Reference_Trl tt WHERE tt.AD_Language=l.AD_Language AND tt.AD_Reference_ID=t.AD_Reference_ID)
;

-- Mar 20, 2013 9:55:11 AM WIT
--  
INSERT INTO AD_Ref_Table (IsValueDisplayed,AD_Reference_ID,AD_Key,AD_Display,EntityType,AD_Window_ID,AD_Table_ID,AD_Ref_Table_UU,CreatedBy,Updated,Created,AD_Client_ID,UpdatedBy,AD_Org_ID,IsActive) VALUES ('N',550000,550017,550019,'U',550000,550001,'f6e141e4-7317-44bf-9d88-7b5f7e3c564a',100,TO_TIMESTAMP('2013-03-20 09:55:11','YYYY-MM-DD HH24:MI:SS'),TO_TIMESTAMP('2013-03-20 09:55:11','YYYY-MM-DD HH24:MI:SS'),0,100,0,'Y')
;

-- Mar 20, 2013 9:55:51 AM WIT
--  
INSERT INTO AD_Column (SeqNoSelection,Version,AD_Table_ID,AD_Column_ID,EntityType,AD_Reference_Value_ID,IsMandatory,IsTranslated,IsIdentifier,SeqNo,IsParent,FieldLength,IsSelectionColumn,AD_Reference_ID,IsKey,AD_Element_ID,IsAutocomplete,IsAllowLogging,AD_Column_UU,IsUpdateable,ColumnName,Name,IsAllowCopy,Updated,CreatedBy,AD_Org_ID,IsActive,Created,UpdatedBy,AD_Client_ID,IsToolbarButton,IsEncrypted,IsSyncDatabase,IsAlwaysUpdateable) VALUES (0,0,318,550023,'U',550000,'N','N','N',0,'N',10,'N',18,'N',550001,'N','Y','9ce8f8f8-260f-4d10-a1f7-f4a3588a57ef','Y','Z_TaxInvoice_ID','Tax Invoice','Y',TO_TIMESTAMP('2013-03-20 09:55:51','YYYY-MM-DD HH24:MI:SS'),100,0,'Y',TO_TIMESTAMP('2013-03-20 09:55:51','YYYY-MM-DD HH24:MI:SS'),100,0,'N','N','N','N')
;

-- Mar 20, 2013 9:55:51 AM WIT
--  
INSERT INTO AD_Column_Trl (AD_Language,AD_Column_ID, Name, IsTranslated,AD_Client_ID,AD_Org_ID,Created,Createdby,Updated,UpdatedBy,AD_Column_Trl_UU ) SELECT l.AD_Language,t.AD_Column_ID, t.Name, 'N',t.AD_Client_ID,t.AD_Org_ID,t.Created,t.Createdby,t.Updated,t.UpdatedBy,Generate_UUID() FROM AD_Language l, AD_Column t WHERE l.IsActive='Y' AND l.IsSystemLanguage='Y' AND l.IsBaseLanguage='N' AND t.AD_Column_ID=550023 AND NOT EXISTS (SELECT * FROM AD_Column_Trl tt WHERE tt.AD_Language=l.AD_Language AND tt.AD_Column_ID=t.AD_Column_ID)
;

-- Mar 20, 2013 9:56:06 AM WIT
--  
--CREATE TABLE C_Invoice (AD_Client_ID NUMERIC(10) NOT NULL, AD_Org_ID NUMERIC(10) NOT NULL, AD_OrgTrx_ID NUMERIC(10) DEFAULT NULL , AD_User_ID NUMERIC(10) DEFAULT NULL , C_Activity_ID NUMERIC(10) DEFAULT NULL , C_BPartner_ID NUMERIC(10) NOT NULL, C_BPartner_Location_ID NUMERIC(10) NOT NULL, C_Campaign_ID NUMERIC(10) DEFAULT NULL , C_CashLine_ID NUMERIC(10) DEFAULT NULL , C_CashPlanLine_ID NUMERIC(10) DEFAULT NULL , C_Charge_ID NUMERIC(10) DEFAULT NULL , C_ConversionType_ID NUMERIC(10) DEFAULT NULL , C_Currency_ID NUMERIC(10) NOT NULL, C_DocType_ID NUMERIC(10) DEFAULT 0 NOT NULL, C_DocTypeTarget_ID NUMERIC(10) NOT NULL, C_DunningLevel_ID NUMERIC(10) DEFAULT NULL , ChargeAmt NUMERIC DEFAULT NULL , C_Invoice_ID NUMERIC(10) NOT NULL, C_Invoice_UU VARCHAR(36) DEFAULT NULL , CopyFrom CHAR(1) DEFAULT NULL , C_Order_ID NUMERIC(10) DEFAULT NULL , C_Payment_ID NUMERIC(10) DEFAULT NULL , C_PaymentTerm_ID NUMERIC(10) NOT NULL, C_Project_ID NUMERIC(10) DEFAULT NULL , Created TIMESTAMP NOT NULL, CreatedBy NUMERIC(10) NOT NULL, CreateFrom CHAR(1) DEFAULT NULL , DateAcct TIMESTAMP NOT NULL, DateInvoiced TIMESTAMP NOT NULL, DateOrdered TIMESTAMP DEFAULT NULL , DatePrinted TIMESTAMP DEFAULT NULL , Description VARCHAR(255) DEFAULT NULL , DocAction CHAR(2) DEFAULT 'CO' NOT NULL, DocStatus VARCHAR(2) DEFAULT 'DR' NOT NULL, DocumentNo VARCHAR(30) NOT NULL, DunningGrace TIMESTAMP DEFAULT NULL , GenerateTo CHAR(1) DEFAULT NULL , GrandTotal NUMERIC NOT NULL, InvoiceCollectionType CHAR(1) DEFAULT NULL , IsActive CHAR(1) DEFAULT 'Y' CHECK (IsActive IN ('Y','N')) NOT NULL, IsApproved CHAR(1) CHECK (IsApproved IN ('Y','N')) NOT NULL, IsDiscountPrinted CHAR(1) CHECK (IsDiscountPrinted IN ('Y','N')) NOT NULL, IsFixedAssetInvoice CHAR(1) DEFAULT NULL CHECK (IsFixedAssetInvoice IN ('Y','N')), IsInDispute CHAR(1) DEFAULT 'N' CHECK (IsInDispute IN ('Y','N')) NOT NULL, IsPaid CHAR(1) CHECK (IsPaid IN ('Y','N')) NOT NULL, IsPayScheduleValid CHAR(1) CHECK (IsPayScheduleValid IN ('Y','N')) NOT NULL, IsPrinted CHAR(1) CHECK (IsPrinted IN ('Y','N')) NOT NULL, IsSelfService CHAR(1) CHECK (IsSelfService IN ('Y','N')) NOT NULL, IsSOTrx CHAR(1) CHECK (IsSOTrx IN ('Y','N')) NOT NULL, IsTaxIncluded CHAR(1) CHECK (IsTaxIncluded IN ('Y','N')) NOT NULL, IsTransferred CHAR(1) CHECK (IsTransferred IN ('Y','N')) NOT NULL, M_PriceList_ID NUMERIC(10) NOT NULL, M_RMA_ID NUMERIC(10) DEFAULT NULL , PaymentRule CHAR(1) DEFAULT P NOT NULL, POReference VARCHAR(20) DEFAULT NULL , Posted CHAR(1) DEFAULT 'N' NOT NULL, Processed CHAR(1) CHECK (Processed IN ('Y','N')) NOT NULL, ProcessedOn NUMERIC DEFAULT NULL , Processing CHAR(1) DEFAULT NULL , Ref_Invoice_ID NUMERIC(10) DEFAULT NULL , Reversal_ID NUMERIC(10) DEFAULT NULL , SalesRep_ID NUMERIC(10) DEFAULT NULL , SendEMail CHAR(1) CHECK (SendEMail IN ('Y','N')) NOT NULL, TotalLines NUMERIC NOT NULL, Updated TIMESTAMP NOT NULL, UpdatedBy NUMERIC(10) NOT NULL, User1_ID NUMERIC(10) DEFAULT NULL , User2_ID NUMERIC(10) DEFAULT NULL , Z_TaxInvoice_ID NUMERIC(10) DEFAULT NULL , CONSTRAINT C_Invoice_Key PRIMARY KEY (C_Invoice_ID))
--;

-- Mar 20, 2013 9:56:31 AM WIT
--  
--CREATE TABLE C_Invoice (AD_Client_ID NUMERIC(10) NOT NULL, AD_Org_ID NUMERIC(10) NOT NULL, AD_OrgTrx_ID NUMERIC(10) DEFAULT NULL , AD_User_ID NUMERIC(10) DEFAULT NULL , C_Activity_ID NUMERIC(10) DEFAULT NULL , C_BPartner_ID NUMERIC(10) NOT NULL, C_BPartner_Location_ID NUMERIC(10) NOT NULL, C_Campaign_ID NUMERIC(10) DEFAULT NULL , C_CashLine_ID NUMERIC(10) DEFAULT NULL , C_CashPlanLine_ID NUMERIC(10) DEFAULT NULL , C_Charge_ID NUMERIC(10) DEFAULT NULL , C_ConversionType_ID NUMERIC(10) DEFAULT NULL , C_Currency_ID NUMERIC(10) NOT NULL, C_DocType_ID NUMERIC(10) DEFAULT 0 NOT NULL, C_DocTypeTarget_ID NUMERIC(10) NOT NULL, C_DunningLevel_ID NUMERIC(10) DEFAULT NULL , ChargeAmt NUMERIC DEFAULT NULL , C_Invoice_ID NUMERIC(10) NOT NULL, C_Invoice_UU VARCHAR(36) DEFAULT NULL , CopyFrom CHAR(1) DEFAULT NULL , C_Order_ID NUMERIC(10) DEFAULT NULL , C_Payment_ID NUMERIC(10) DEFAULT NULL , C_PaymentTerm_ID NUMERIC(10) NOT NULL, C_Project_ID NUMERIC(10) DEFAULT NULL , Created TIMESTAMP NOT NULL, CreatedBy NUMERIC(10) NOT NULL, CreateFrom CHAR(1) DEFAULT NULL , DateAcct TIMESTAMP NOT NULL, DateInvoiced TIMESTAMP NOT NULL, DateOrdered TIMESTAMP DEFAULT NULL , DatePrinted TIMESTAMP DEFAULT NULL , Description VARCHAR(255) DEFAULT NULL , DocAction CHAR(2) DEFAULT 'CO' NOT NULL, DocStatus VARCHAR(2) DEFAULT 'DR' NOT NULL, DocumentNo VARCHAR(30) NOT NULL, DunningGrace TIMESTAMP DEFAULT NULL , GenerateTo CHAR(1) DEFAULT NULL , GrandTotal NUMERIC NOT NULL, InvoiceCollectionType CHAR(1) DEFAULT NULL , IsActive CHAR(1) DEFAULT 'Y' CHECK (IsActive IN ('Y','N')) NOT NULL, IsApproved CHAR(1) CHECK (IsApproved IN ('Y','N')) NOT NULL, IsDiscountPrinted CHAR(1) CHECK (IsDiscountPrinted IN ('Y','N')) NOT NULL, IsFixedAssetInvoice CHAR(1) DEFAULT NULL CHECK (IsFixedAssetInvoice IN ('Y','N')), IsInDispute CHAR(1) DEFAULT 'N' CHECK (IsInDispute IN ('Y','N')) NOT NULL, IsPaid CHAR(1) CHECK (IsPaid IN ('Y','N')) NOT NULL, IsPayScheduleValid CHAR(1) CHECK (IsPayScheduleValid IN ('Y','N')) NOT NULL, IsPrinted CHAR(1) CHECK (IsPrinted IN ('Y','N')) NOT NULL, IsSelfService CHAR(1) CHECK (IsSelfService IN ('Y','N')) NOT NULL, IsSOTrx CHAR(1) CHECK (IsSOTrx IN ('Y','N')) NOT NULL, IsTaxIncluded CHAR(1) CHECK (IsTaxIncluded IN ('Y','N')) NOT NULL, IsTransferred CHAR(1) CHECK (IsTransferred IN ('Y','N')) NOT NULL, M_PriceList_ID NUMERIC(10) NOT NULL, M_RMA_ID NUMERIC(10) DEFAULT NULL , PaymentRule CHAR(1) DEFAULT P NOT NULL, POReference VARCHAR(20) DEFAULT NULL , Posted CHAR(1) DEFAULT 'N' NOT NULL, Processed CHAR(1) CHECK (Processed IN ('Y','N')) NOT NULL, ProcessedOn NUMERIC DEFAULT NULL , Processing CHAR(1) DEFAULT NULL , Ref_Invoice_ID NUMERIC(10) DEFAULT NULL , Reversal_ID NUMERIC(10) DEFAULT NULL , SalesRep_ID NUMERIC(10) DEFAULT NULL , SendEMail CHAR(1) CHECK (SendEMail IN ('Y','N')) NOT NULL, TotalLines NUMERIC NOT NULL, Updated TIMESTAMP NOT NULL, UpdatedBy NUMERIC(10) NOT NULL, User1_ID NUMERIC(10) DEFAULT NULL , User2_ID NUMERIC(10) DEFAULT NULL , Z_TaxInvoice_ID NUMERIC(10) DEFAULT NULL , CONSTRAINT C_Invoice_Key PRIMARY KEY (C_Invoice_ID))
--;

ALTER TABLE C_Invoice ADD Z_TaxInvoice_ID NUMERIC(10) DEFAULT NULL
;

-- Mar 20, 2013 10:04:49 AM WIT
--  
INSERT INTO AD_Field (ColumnSpan,NumLines,SortNo,IsEncrypted,AD_Tab_ID,DisplayLength,IsSameLine,IsHeading,AD_Column_ID,SeqNo,IsCentrallyMaintained,AD_Field_ID,IsReadOnly,EntityType,Name,IsDisplayed,IsFieldOnly,AD_Field_UU,UpdatedBy,AD_Org_ID,Created,AD_Client_ID,CreatedBy,Updated,IsActive,IsDisplayedGrid,SeqNoGrid,XPosition,IsQuickEntry) VALUES (2,1,0,'N',263,0,'N','N',550023,440,'Y',550072,'Y','U','Tax Invoice','Y','N','b56bdcb1-620c-4a1c-b740-9705f7e5a466',100,0,TO_TIMESTAMP('2013-03-20 10:04:48','YYYY-MM-DD HH24:MI:SS'),0,100,TO_TIMESTAMP('2013-03-20 10:04:48','YYYY-MM-DD HH24:MI:SS'),'Y','Y',440,1,'N')
;

-- Mar 20, 2013 10:04:49 AM WIT
--  
INSERT INTO AD_Field_Trl (AD_Language,AD_Field_ID, Help,Description,Name, IsTranslated,AD_Client_ID,AD_Org_ID,Created,Createdby,Updated,UpdatedBy,AD_Field_Trl_UU ) SELECT l.AD_Language,t.AD_Field_ID, t.Help,t.Description,t.Name, 'N',t.AD_Client_ID,t.AD_Org_ID,t.Created,t.Createdby,t.Updated,t.UpdatedBy,Generate_UUID() FROM AD_Language l, AD_Field t WHERE l.IsActive='Y' AND l.IsSystemLanguage='Y' AND l.IsBaseLanguage='N' AND t.AD_Field_ID=550072 AND NOT EXISTS (SELECT * FROM AD_Field_Trl tt WHERE tt.AD_Language=l.AD_Language AND tt.AD_Field_ID=t.AD_Field_ID)
;

SELECT register_migration_script('201303201009-AWN-77-C_Invoice-Add-Z_TaxInvoice_ID.sql') FROM dual
;
